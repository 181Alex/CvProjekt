@model CvProjekt.Models.HomeViewModel

@* --- SÖKFUNKTION (Hålls intakt) --- *@
<form asp-action="Index" method="get" class="mb-4">
    <div class="input-group">
        <input type="text" name="search" class="form-control" placeholder="Sök utvecklare...">
        <button class="btn btn-primary" type="submit">Sök</button>
    </div>
</form>

@* --- ANVÄNDARLISTA (Visar nu max 5) --- *@
<h3 class="mb-3">Senaste profilerna</h3>
<div class="row">
    @foreach (var user in Model.Users)
    {
    <div class="col-md-12 mb-4">
        <div class="card shadow-sm">
            <div class="card-body">
                <h4 class="card-title">@user.FirstName @user.LastName</h4>
                @* ... (Resten av din befintliga kod för kompetenser/arbete) ... *@
            </div>
        </div>
    </div>
    }
</div>

@* --- PROJEKT-SEKTION (Nu med loop för 5 projekt) --- *@
<hr class="my-5" />
<h3 class="mb-3">Senaste projekten</h3>
<div class="row">
    @if (Model.LatestProjects.Any())
    {
    @foreach (var project in Model.LatestProjects)
        {
    <div class="col-md-4 mb-3">
        <div class="card h-100 border-primary">
            <div class="card-body">
                <h5 class="card-title">@project.Title (@project.Year)</h5>
                <p class="card-text text-truncate">@project.Description</p>
                <p class="small"><strong>Språk:</strong> @project.Language</p>
                @if (project.User != null)
                        {
                <p class="text-muted x-small">Av: @project.User.FirstName @project.User.LastName</p>
                        }
            </div>
        </div>
    </div>
        }
    }
    else
    {
    <p>Inga projekt hittades.</p>
    }
</div>